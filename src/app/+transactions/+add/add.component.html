<div class="container">
<form  #transactionForm="ngForm" (ngSubmit)="addTransaction()">
      <div class="form-group">
        <label for="name">Merchant</label>
        <input type="text" class="form-control" [(ngModel)]="model.merchant" required ngControl="name" #name="ngForm">
        <div [hidden]="name.pristine || name.valid">This is a required field</div>
      </div>
      <div class="form-group">
        <label for="amount">Transaction</label>
        <input type="number" class="form-control" [(ngModel)]="model.amount">
      </div>
      <div class="form-group">
        <label for="date">Date</label>
        <input type="date" class="form-control" [(ngModel)]="model.date">
      </div>
      <div class="form-group">
        <label for="from">From</label>
        <input type="text" 
        [typeahead]="getAsyncData('from','Expense')"
        (typeaheadLoading)="changeTypeaheadLoading($event)"
        (typeaheadNoResults)="changeTypeaheadNoResults($event)"
        (typeaheadOnSelect)="typeaheadOnSelect($event,'from','Expense')"
        [typeaheadOptionsLimit]="7"
        class="form-control" [(ngModel)]="model.from.name">
      </div>
      <div class="form-group">
        <label for="to">To</label>
        <input type="text" class="form-control" 
        [typeahead]="getAsyncData('to','Expense')"
        (typeaheadLoading)="changeTypeaheadLoading($event)"
        (typeaheadNoResults)="changeTypeaheadNoResults($event)"
        (typeaheadOnSelect)="typeaheadOnSelect($event,'to','Expense')"
        [typeaheadOptionsLimit]="7"
        [(ngModel)]="model.to.name">
      </div>
     <div class="form-group">
        <label for="tags">Tags</label>
        <tag-input  [(bindModelData)]="model.tags"></tag-input>
      </div>
      <div class="form-group">
        <label for="comments">Comments</label>
        <input type="text" class="form-control" [(ngModel)]="model.comments">
      </div>
      
      <button type="submit" class="btn btn-default" [disabled]="!transactionForm.form.valid">Submit</button>
      
    </form>
    {{model | json}}


</div>

